\lstdefinelanguage{CSharp}{
    morekeywords={abstract, as, base, bool, break, byte, case, catch, char, checked, class, const, continue, decimal, default, delegate, do, double, else, enum, event, explicit, extern, false, finally, fixed, float, for, foreach, goto, if, implicit, in, int, interface, internal, is, lock, long, namespace, new, null, object, operator, out, override, params, private, protected, public, readonly, ref, return, sbyte, sealed, short, sizeof, stackalloc, static, string, struct, switch, this, throw, true, try, typeof, uint, ulong, unchecked, unsafe, ushort, using, virtual, void, volatile, while},
    morecomment=[l]{//},
    morecomment=[s]{/*}{*/},
    morecomment=[s]{///}{///},
    morestring=[b]",
    morestring=[b]',
    sensitive=true
}

\lstdefinestyle{CSharpBase}{
    backgroundcolor=\color{white},
    basicstyle=\ttfamily,
    breakatwhitespace=false,
    breaklines=false,
    captionpos=b,
    columns=fullflexible,
    commentstyle=\color{mediumgray}\upshape,
    emph={},
    emphstyle=\color{crimson},
    extendedchars=true,  % requires inputenc
    fontadjust=true,
    frame=,
    xleftmargin={0cm},
    xrightmargin={0cm},
    identifierstyle=\color{black},
    keepspaces=true,
    keywordstyle=\color{mediumblue},
    keywordstyle={[2]\color{darkviolet}},
    keywordstyle={[3]\color{royalblue}},
    numbers=none,
    numbersep=5pt,
    numberstyle=\tiny\color{black},
    rulecolor=\color{black},
    showlines=true,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    stringstyle=\color{forestgreen},
    tabsize=2,
    title=\lstname,
    belowskip=-0.8 \baselineskip,
    upquote=true  % requires textcomp
}

\lstdefinelanguage{CSharp}{
    morekeywords={GetRequiredService,var,WatchWithFriendsDBContext,UseInMemoryDatabase,IUserRepository,UserRepository,DataBaseType,IServiceCollection,AddScoped,AddDbContext,RoomsDBContext,UseSqlServer,GetConnectionString,BuildServiceProvider,Guid,DateTime,abstract, as, base, bool, break, byte, case, catch, char, checked, class, const, continue, decimal, default, delegate, do, double, else, enum, event, explicit, extern, false, finally, fixed, float, for, foreach, goto, if, implicit, in, int, interface, internal, is, lock, long, namespace, new, null, object, operator, out, override, params, private, protected, public, readonly, ref, return, sbyte, sealed, short, sizeof, stackalloc, static, string, struct, switch, this, throw, true, try, typeof, uint, ulong, unchecked, unsafe, ushort, using, virtual, void, volatile, while},
    morecomment=[l]{//},
    morecomment=[s]{/*}{*/},
    morecomment=[s]{///}{///},
    morestring=[b]",
    morestring=[b]',
    sensitive=true
}

\lstdefinestyle{CSharpBase}{
    backgroundcolor=\color{white},
    basicstyle=\ttfamily,
    breakatwhitespace=false,
    breaklines=false,
    captionpos=b,
    columns=fullflexible,
    commentstyle=\color{mediumgray}\upshape,
    emph={},
    emphstyle=\color{crimson},
    extendedchars=true,  % requires inputenc
    fontadjust=true,
    frame=,
    xleftmargin={0cm},
    xrightmargin={0cm},
    identifierstyle=\color{black},
    keepspaces=true,
    keywordstyle=\color{mediumblue},
    keywordstyle={[2]\color{darkviolet}},
    keywordstyle={[3]\color{royalblue}},
    numbers=none,
    numbersep=5pt,
    numberstyle=\tiny\color{black},
    rulecolor=\color{black},
    showlines=true,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    stringstyle=\color{forestgreen},
    tabsize=2,
    title=\lstname,
    belowskip=-0.8 \baselineskip,
    upquote=true  % requires textcomp
}

\lstdefinestyle{CSharp}{
    language=CSharp,
    style=CSharpBase,
    keywordstyle=\color{mediumblue}
}